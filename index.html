<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to UMovie</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" src="css/movie.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/home.css">
    <link rel="stylesheet" type="text/css" href="css/header.css">

</head>
<body>
<header>
    <nav id="MainMenu">

    </nav>
</header>
<main>
    <h1 class="hidden">UMovie</h1>
    <div id="PageContent"></div>






    <!--div id="welcome-message">
        <p>Welcome to UMovie</p>
        <p>Which movie do you want to watch?</p>
        <form id="search-home" >
            <label for="search" class="hidden">Search</label>
            <input type="input" name="search" id="search" placeholder="Search a movie"   />
            <input class="search-button" type="submit" value=" &#xf002">

        </form>
    </div-->

    <script type="text/template" id="MainMenu-Template">
        <ul>
            <li class="home-btn"><a href=""><i class="fa fa-home"></i><span class=" hidden">Accueil</span></a></li>
            <li class="mobile-hidden"><input  type="text" placeholder="Search ..."/><button id="search-btn"><i class="fa fa-search"></i></button></li>
            <li class="desktop-hidden"><button id="bar-btn" ><i class="fa fa-bars"></i></button>
                <ul id="bar-nav" class="hidden">
                    <li  class="tablet-hidden mobile-visible"><input  type="text" placeholder="Search ..."/><button ><i class="fa fa-search"></i></button></li>
                    <li><a href="#">My Account (userName)</a></li>
                    <li><a href="#/watchlists">My Watchlist</a></li>
                    <li><a href="#">Log out</a></li>
                </ul>
            </li>
            <li class="tablet-hidden" ><button id="user-btn" ><i class="fa fa-user"></i><span class="mobile-hidden">UserName</span></button>
                <ul id="user-nav" class="hidden">
                    <li><a href="#">My Account</a></li>
                    <li><a href="#/watchlists">My Watchlist</a></li>
                    <li><a href="#">Log out</a></li>
                </ul>
            </li>
        </ul>
    </script>

    <script type="text/template" id="watchlist-list-template">
        <a href="#/new" class="btn btn-primary">New watchlist</a>
        <br><br>
        <!-- <hr /> -->
        <div class="list-group">
            <% watchlists.each( function( list ){ %>
                <a href="#/watchlists/<%= list.id %>" class="list-group-item"><%= list.get("name") %></a>
            <% }); %>
        </div>
        <div class="container">
            <hr />
            <div class="page"></div>
        </div>
        <div id = "movies_container">
            <div id="movies-lists"></div>
        </div>
    </script>

    <script type="text/template" id="watchlist-edit-template">
        <h4><%= watchlist ?  'Edit' : 'Create new' %> Watchlist</h4>
        <h5><%= watchlist ? '':'Enter watchlist name:' %></h5>
        <textarea id="watchlistName" cols="50" rows="1"><%= watchlist? watchlist.name : '' %></textarea>
        <hr>
        <div id="hiddenWatchlistId" style="display:none;"><%= watchlist ? watchlist.id : 0 %></div>

        <div class="list-group">
            <% if(watchlist) { %>
            <table>
                <thead>
                <tr>
                    <th>Movies in this watchlist</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <% watchlist.movies.forEach( function( item ){ %>
                <tr>
                    <th><%= item.trackName %></th>
                    <th><button class="btn-xs btn-danger deleteMovieFromWL" id="<%= item.trackId%>">X <%= item.trackId%></button></th>
                    <input type="hidden" name="hiddenMovieId" value="<%= item.trackId%>" />
                </tr>
                <% }); %>
                </tbody>
                </table>
            <% }; %>
        </div>
        
        <%= watchlist ? '<button class="addMovieToWL btn btn-primary">Add Movie to Watchlist</button>' : ''%>
        <button class="addSubmit btn btn-primary">Submit</button>
        <% if(watchlist) { %>
            <button class="btn btn-delete delete">Delete</button>
        <% }; %>
        <div id="watchlistSearchContainer" style="display:none">
            <textarea id="watchlistMovieSearch" cols="50" rows="1"
                      placeholder="Search for a movie to add to your watchlist!"></textarea>
            <button class="btn-xs btn-primary" id="btnWatchlistMovieSearch">Search</button>
            <div id="watchlistMovieSearchResults" style="display:none">
                <table class="table watchlistSearchResults">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Results</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="searchResultItem" id="rowResult1" style="display:none">
                            <td><button class="btn-xs btn-primary addSearchResult" id="addResult1">Add to
                                Watchlist</button></td>
                            <td><span class="searchResultTitle" id="titleResult1"></span>:
                                <span class="searchResultDescription" id="descriptionResult1"></span></td>
                            <td><span class="hiddenMovieId" id="idResult1" style="display:none"></span></td>
                        </tr>
                        <tr class="searchResultItem" id="rowResult2" style="display:none">
                            <td><button class="btn-xs btn-primary addSearchResult" id="addResult2">Add to
                                Watchlist</button></td>
                            <td><span class="searchResultTitle" id="titleResult2"></span>:
                                <span class="searchResultDescription" id="descriptionResult2"></span></td>
                            <td><span class="hiddenMovieId" id="idResult2" style="display:none"></span></td>
                        </tr>
                        <tr class="searchResultItem" id="rowResult3" style="display:none">
                            <td><button class="btn-xs btn-primary addSearchResult" id="addResult3">Add to
                                Watchlist</button></td>
                            <td><span class="searchResultTitle" id="titleResult3"></span>:
                                <span class="searchResultDescription" id="descriptionResult3"></span></td>
                            <td><span class="hiddenMovieId" id="idResult3" style="display:none"></span></td>
                        </tr>
                        <tr class="searchResultItem" id="rowResult4" style="display:none">
                            <td><button class="btn-xs btn-primary addSearchResult" id="addResult4">Add to
                                Watchlist</button></td>
                            <td><span class="searchResultTitle" id="titleResult4"></span>:
                                <span class="searchResultDescription" id="descriptionResult4"></span></td>
                            <td><span class="hiddenMovieId" id="idResult4" style="display:none"></span></td>
                        </tr>
                        <tr class="searchResultItem" id="rowResult5" style="display:none">
                            <td><button class="btn-xs btn-primary addSearchResult" id="addResult5">Add to
                            Watchlist</button></td>
                            <td><span class="searchResultTitle" id="titleResult5"></span>:
                                <span class="searchResultDescription" id="descriptionResult5"></span></td>
                            <td><span class="hiddenMovieId" id="idResult5" style="display:none"></span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </script>

    <script type="text/template" id="movie-template">
        <movie>
            <div id="mainContainer">
                <div class="movieTitle">
                    <h1><%= movie.trackName %></h1>
                </div>
                <div class="coverPhoto col-md-2">
                    <img src="<%= movie.artworkUrl100 %>" />
                </div>
                <div class="description col-md-10">
                    <p><%= movie.longDescription%></p>
                </div>
                <div>
                    <span><a  class="btn-itunes" href="<%= movie.trackViewUrl %>"></a></span>
                </div>
                <div class="infos">
                    <p><strong>Genre:</strong><span>   <%= movie.primaryGenreName %></span></p>
                    <p><strong>Release date:</strong><span>    <%= movie.releaseDate%></span></p>
                    <p><strong>Country:</strong><span>   <%= movie.country%></span></p>
                    <p><strong>Director:</strong><span>   <%= movie.artistName%></span></p>
                    <p><strong>Duration:</strong><span>  <%= movie.trackTimeMillis %> minutes</span></p>
                    <p><strong>Rating:</strong><span>    <%= movie.contentAdvisoryRating%></span></p>
                </div>
                <div><button id="btnAddWatchList" class="btn btn-primary">Add to the watchList</button>
                    <select id="menuWatchlistMovie">
                        <% _.each(watchlists, function(list) { %>
                        <option value=<%= list.id %>><%= list.name %></option>
                        <% });%>
                    </select>
                </div>
                <div id="videoMovieContainer">
                </div>
        </movie>
    </script>
    <script type="text/template" id="TVShows-list-template"  >
        <% _.each(results, function(result) { %>
        <div class="movieTitle">
            <h1><%= result.collectionName %></h1>
        </div>

        <div class="infos">
            <p><strong>Genre:</strong> <span><%= result.primaryGenreName %></span></p>
            <p><strong>Release date:</strong> <span><%= result.releaseDate%></span></p>
            <p><span><a class="btn-itunes" href="<%= result.collectionViewUrl %>">View in Itunes</a></span></p>
        </div>
        <div class="coverPhoto col-md-2">
            <img src="<%= result.artworkUrl100 %>" />
        </div>
        <div class="description col-md-10">
            <h3>Synopsis</h3>
            <p><%= result.longDescription%></p>
        </div>
        <div id="videoMovieContainer">
        </div>
        <% }); %>
    </script>
    <script type="text/template" id="episodes-list-template"  >

        <h2>Episodes</h2>
        <ul class="list-unstyled list-episodes">
            <% _.each(results, function(result) { %>
            <li><span><img src="<%= result.artworkUrl30 %>" > <%= result.trackCensoredName %></span></li>
            <% }); %>
        </ul>
    </script>
</main>
</body>
</html>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>

<script type="text/javascript" src="scripts/models/tvshows.js"></script>
<script type="text/javascript" src="scripts/collection/tvshows.js"></script>
<script type="text/javascript" src="scripts/views/tvshows.js"></script>
<script type="text/javascript" src="scripts/models/episodes.js"></script>
<script type="text/javascript" src="scripts/collection/episodes.js"></script>
<script type="text/javascript" src="scripts/views/episodes.js"></script>
<script type="text/javascript" src="scripts/tvshows.js"></script>

<script type="text/javascript" src="scripts/watchlist.js"></script>
<script type="text/javascript" src="scripts/models/movie.js"></script>
<script type="text/javascript" src="scripts/collection/movies.js"></script>
<script type="text/javascript" src="scripts/views/movies.js"></script>
<script type="text/javascript" src="scripts/main.js"></script>
<script type="text/javascript" src="scripts/menu.js"></script>

<script type="text/javascript">
    function LoadMainScreen() {
        $.get('mainpage.html', function(data) {
            $("#PageContent").html(data);
        });
    }

    LoadMainScreen();
</script>

</body>
</html>
